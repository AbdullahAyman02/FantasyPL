@page
@model FantasyPL.Pages.DeleteFEModel
@{
}
<h1>Delete a Fixture or Event</h1>
<div class="flexcontainerdown">
    <div>
    <form method="post">
        @if (Model.Message.Length > 0)
        {
                <div class='alert alert-warning alert-dimsmissiable fade show flexcontainer' role='alert'>
                    <string>@Model.Message</string>
                    <button type='button' class='btn-close' data-bs-dismiss='alert' aria-label='Close'></button>
                </div>
        }
    <div class="txt_field">
    <label for="fix" id="clublabel">Fixture</label>
    <select id="fix" name="fix" class="form-control">
                @foreach (var fix in GlobalVar.listFixtures)
                {
                    @if(fix.ID == GlobalVar.fixtureQueried.ID){
                        <option value="@fix.ID" selected>@fix.HomeSide vs @fix.AwaySide</option>
                    }
                    else {
                        <option value="@fix.ID">@fix.HomeSide vs @fix.AwaySide</option>
                    }
                }
        </select>
    </div>
    <input type="submit" name="DeleteFixture" id="DeleteFixture" value="Delete Fixture"/>
    <div class="txt_field">
        <label for="evt" id="playerlabel">Event</label>
        <select id="evt" name="evt" class="form-control">
            @foreach (var evt in GlobalVar.fixtureEvents)
            {
                        <option value="@evt.ID">@evt.EventType Minute:@evt.Minute Club:@evt.ClubAbbreviation Player:@evt.Player</option>
            }
        </select>
    </div>
    <input type="submit" name="DeleteEvent" id="DeleteEvent" value="Delete Event"/>
    <input type="submit" name="Refresh" id="Refresh" value="Refresh" style="Display: none"/>
</form>
</div>
</div>
@section scripts{ 
    <script>
        $(function () {
            $("#fix").on("change", function() {
                $("#Refresh").click()
            });
        });
    </script>
}
